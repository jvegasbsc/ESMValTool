documentation:
  description: |
    Independent assessment of extremes of single products for the C3S_511 quality brief

  authors:
    - muel_bn
    - crez_ba

  maintainer:
    - muel_bn
    - crez_ba

datasets:
#  - {dataset: MPI-ESM-LR,  project: CMIP5,  mip: Amon,  exp: decadal2010,  ensemble: r1i1p1,  start_year: 2011,  end_year: 2019}
  - {dataset: CDS-SATELLITE-SOIL-MOISTURE, project: OBS, mip: day, tier: 2, type: sat, version: L3S-SSMV-COMBINED-v4.2, start_year: 1979, end_year: 2018}

preprocessors:
  noop: {}
  regrid_ex:
      regrid:
        target_grid: 2x2
        scheme: nearest

diagnostics:
  SPQB:
    description: Single product quality brief extremes section.
    variables:
      sm:
        preprocessor: regrid_ex
        derive: False
#      tas:
#        preprocessor: noop
#        derive: False
    scripts:
      SPQB_basic_report:
        script: qualassess/ex_C3S_511_SPQB.py # 
        requests: [custom]                    # ++++++++++ Extreme parameters follow below +++++++
        minimal_number_measurements: 10       # if for a certain gridpoint there are less
                                              # valid data points than specified here
                                              # this gridpoint is masked
        which_percentile: 10                  # per default assuming exceeding extremes 
                                              # for percentiles > 50 and vice versa
        window_size: 5                        # size of the window
                                              # List below the extreme events as in the Google
                                              # Drive document. Note that identifiers 
                                              # of the event refer to the columns 'Event Category', 
                                              # 'Region/Country' and 'Year' joined by '_' and any
                                              # whitespace removed.
        extreme_events: [Drought_MiddleEast_2014, Drought-Heat_Europe_2013, Drought-Heat_Europe_2015, Drought-Heat_Europe_2003]
        multiprocessing: 1                    # the number of cores used
                                              # use 1 for no multiprocessing
                                              # multiprocessing is an experimental functionality
